{#
/**
 * @file
 * Copyright overlay pattern.
 */
#}
{{ attach_library('oe_bootstrap_theme/pattern.copyright_overlay') }}

{% set _footer %}
  {% include '@oe-bcl/button' with {
    label: 'Copy Copyright'|t,
    attributes: create_attribute({
      'data-bs-dismiss': 'modal',
      'data-copy-target': '#' ~ copy_selector
    })
  } only %}
{% endset %}

{% set _content %}
  <div {{ create_attribute({
    'class': 'copyright-content',
    'id': copy_selector
  }) }}>
    {{ content }}
  </div>
{% endset %}

<div{{ attributes.addClass('copyright-overlay') }}>
  <span class="copyright-preview">
    {{ content }}
  </span>

  {{ pattern('link', {
    label: trigger_label|default('View more'|t),
    path: '#',
    attributes: trigger_attributes
      .addClass('copyright-trigger')
      .setAttribute('data-bs-toggle', 'modal')
      .setAttribute('data-bs-target', '#' ~ modal_id),
  }) }}

  {{ pattern('modal', {
    'title': modal_title|default('Copyright'|t),
    'show_close_button': true,
    'body': _content,
    'footer': _footer,
    'attributes': create_attribute({
      id: modal_id
    })
  }) }}
</div>
