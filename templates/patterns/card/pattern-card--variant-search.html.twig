{#
/**
 * @file
 * Card pattern search variant.
 */
#}
{% set _badges = [] %}
{% if badges is not empty %}
  {% set badge_attr = create_attribute({'class': ['me-2']}) %}
  {% for key,item in badges %}
    {% if key|first != '#' %}
      {% set _badges = _badges|merge([{
        label: item['#title'],
        attributes: badge_attr
      }]) %}
    {% endif %}
  {% endfor %}
{% endif %}
{% if image is defined and image['#markup'] is not empty %}
  {% set _image = {
    path: image['#markup'],
    position: "top",
    classes: "d-none d-md-block",
  } %}
{% endif %}
{% if text is defined and text.classes is not defined %}
  {% set text = {
    content: text|render|striptags,
    classes: "mb-3",
  } %}
{% endif %}
{% include '@oe-bcl/bcl-card/card.html.twig' with {
  horizontal: true,
  horizontal_grid: {
    left_col_classes: "col-md-3",
    right_col_classes: "col-md-9",
    gutter: 0,
  },
  extra_classes_body: "p-0 p-md-3",
  badges: _badges,
  title: {
    tag: title.tag|default('a'),
    classes: title.classes|default("fs-5 text-decoration-none mb-2"),
    content: title.content,
  },
  text: text,
  attributes: create_attribute({'class': [
    "border-0",
    "p-0",
    "mb-4-5",
    "mb-md-4-75",
  ]}),
  text_color: 'dark',
  image:_image,
  content: content
} %}
<hr class="d-md-none mb-4-5">
