{#
/**
 * @file
 * Featured media pattern.
 */
#}
{% macro featured_media(embedded_media, image, poster_image, caption, ratio, sources, tracks) %}
  {% include '@oe-bcl/featured-media' with {
    'embedded_media': embedded_media,
    'image': image,
    'poster_image': poster_image,
    'content': caption,
    'content_classes': 'bg-light p-3',
    'ratio': ratio,
    'sources': sources,
    'tracks': tracks,
  } %}
{% endmacro %}

{% if inside_text %}
  {% set text_alignment_class = 'order-md-1' %}
  {% set video_alignment_class = 'order-md-2' %}
  {% if alignment == 'right' %}
    {% set text_alignment_class = 'order-md-2' %}
    {% set video_alignment_class = 'order-md-1' %}
  {% endif %}

  <h3 class="mb-4"> {{ title }} </h3>
  <div class="row">
    <div class="col-12 col-md-6 {{ text_alignment_class }}">
      <h5 class="text-secondary">{{ text_title }}</h5>
      {{ text }}
      {{ link }}
    </div>
    <div class="col-12 col-md-6 {{ video_alignment_class }}">
      {{ _self.featured_media(embedded_media, image, poster_image, caption, ratio, sources, tracks) }}
    </div>
  </div>
{% else %}
  <div class="row">
    <div class="col-12 col-md-4">
      {{ _self.featured_media(embedded_media, image, poster_image, caption, ratio, sources, tracks) }}
    </div>
  </div>
{% endif %}
